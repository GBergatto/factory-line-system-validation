[
  true* .
  put(upgrade) .
  (!(take(input) || take(reset)))* .
  put(upgrade)
] false

&&

[
  (!(take(input) || take(reset)))* .
  put(upgrade)
] false